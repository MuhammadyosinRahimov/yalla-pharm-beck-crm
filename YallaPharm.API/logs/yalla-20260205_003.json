{"@t":"2026-02-05T11:24:47.6784102Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:24:48.3363438Z","@mt":"Checking database schema...","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:24:48.5116007Z","@mt":"Database schema check completed","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:24:49.0988387Z","@mt":"Default admin user already exists","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:24:49.0990490Z","@mt":"Database seeding completed successfully","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:24:49.1000173Z","@mt":"Database seeding completed successfully"}
{"@t":"2026-02-05T11:24:49.3367395Z","@mt":"Yalla Pharm CRM API starting on {Urls}","Urls":""}
{"@t":"2026-02-05T11:24:49.4774809Z","@mt":"Application terminated unexpectedly","@l":"Fatal","@x":"System.IO.IOException: Failed to bind to address http://127.0.0.1:5071: address already in use.\r\n ---> Microsoft.AspNetCore.Connections.AddressInUseException: Обычно разрешается только одно использование адреса сокета (протокол/сетевой адрес/порт).\r\n ---> System.Net.Sockets.SocketException (10048): Обычно разрешается только одно использование адреса сокета (протокол/сетевой адрес/порт).\r\n   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)\r\n   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)\r\n   at System.Net.Sockets.Socket.Bind(EndPoint localEP)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass30_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IEnumerable`1 listenOptions, AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)\r\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.Run(IHost host)\r\n   at Program.<Main>$(String[] args) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Program.cs:line 261"}
{"@t":"2026-02-05T11:26:36.2553674Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:26:58.0174837Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:26:59.2074549Z","@mt":"Cannot connect to database. Skipping seeding.","@l":"Warning","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:26:59.2113964Z","@mt":"Database seeding completed successfully"}
{"@t":"2026-02-05T11:26:59.4146830Z","@mt":"Yalla Pharm CRM API starting on {Urls}","Urls":""}
{"@t":"2026-02-05T11:27:09.1530579Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:09.2177907Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:09.2749007Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1270.5378"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":1270.5378,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000001","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:09.3818782Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L5VI1OHE:00000001","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHE:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.1149820Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.1284739Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.1645147Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["471.4768"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":471.4768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000002","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.2383224Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L5VI1OHE:00000002","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHE:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.4857965Z","@mt":"SendAsync called with empty CourierId for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"32cae2e0-d5e9-4762-8726-6d4cca42dc59","ActionName":"YallaPharm.API.Controllers.DeliveryController.Send (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000003","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.5069985Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["70.1215"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: CourierId is required\r\n   at YallaPharm.Application.Services.DeliveryService.SendAsync(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 67\r\n   at YallaPharm.API.Controllers.DeliveryController.Send(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/send","StatusCode":500,"Elapsed":70.1215,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000003","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.5458314Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/send","TraceId":"0HNJ4L5VI1OHE:00000003","StatusCode":400,"ExceptionType":"ValidationException","Message":"CourierId is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHE:00000003","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.6563885Z","@mt":"UpdateAsync called with empty Status for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"421e872d-b06d-4f30-a771-2d6b22103dbd","ActionName":"YallaPharm.API.Controllers.DeliveryController.Update (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHE:00000004","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.6626018Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["38.0472"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: Status is required\r\n   at YallaPharm.Application.Services.DeliveryService.UpdateAsync(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 110\r\n   at YallaPharm.API.Controllers.DeliveryController.Update(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 33\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/update","StatusCode":500,"Elapsed":38.0472,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000004","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.6880218Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/update","TraceId":"0HNJ4L5VI1OHE:00000004","StatusCode":400,"ExceptionType":"ValidationException","Message":"Status is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHE:00000004","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:10.9866442Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["162.1907"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/telegram","StatusCode":200,"Elapsed":162.1907,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000005","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:11.1338046Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["38.5297"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/telegram","StatusCode":200,"Elapsed":38.5297,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHE:00000006","ConnectionId":"0HNJ4L5VI1OHE"}
{"@t":"2026-02-05T11:27:32.3080036Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.3153566Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.3453789Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["183.0778"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":183.0778,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000001","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.3892226Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L5VI1OHF:00000001","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHF:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.6764764Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.6885648Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c20b3086-2497-4f58-9f61-d55e9b942bdd","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.7711439Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["238.7947"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":238.7947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000002","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.8423883Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L5VI1OHF:00000002","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHF:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:32.9981918Z","@mt":"SendAsync called with empty CourierId for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"32cae2e0-d5e9-4762-8726-6d4cca42dc59","ActionName":"YallaPharm.API.Controllers.DeliveryController.Send (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000003","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.0018940Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["11.9182"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: CourierId is required\r\n   at YallaPharm.Application.Services.DeliveryService.SendAsync(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 67\r\n   at YallaPharm.API.Controllers.DeliveryController.Send(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/send","StatusCode":500,"Elapsed":11.9182,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000003","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.0218928Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/send","TraceId":"0HNJ4L5VI1OHF:00000003","StatusCode":400,"ExceptionType":"ValidationException","Message":"CourierId is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHF:00000003","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.1085603Z","@mt":"UpdateAsync called with empty Status for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"421e872d-b06d-4f30-a771-2d6b22103dbd","ActionName":"YallaPharm.API.Controllers.DeliveryController.Update (YallaPharm.API)","RequestId":"0HNJ4L5VI1OHF:00000004","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.1129121Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5.7637"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: Status is required\r\n   at YallaPharm.Application.Services.DeliveryService.UpdateAsync(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 110\r\n   at YallaPharm.API.Controllers.DeliveryController.Update(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 33\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/update","StatusCode":500,"Elapsed":5.7637,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000004","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.1339615Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/update","TraceId":"0HNJ4L5VI1OHF:00000004","StatusCode":400,"ExceptionType":"ValidationException","Message":"Status is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L5VI1OHF:00000004","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.2084605Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5.4154"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/telegram","StatusCode":200,"Elapsed":5.4154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000005","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:27:33.3062438Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1.6290"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/telegram","StatusCode":200,"Elapsed":1.629,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L5VI1OHF:00000006","ConnectionId":"0HNJ4L5VI1OHF"}
{"@t":"2026-02-05T11:29:20.2228537Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:29:21.8600548Z","@mt":"Cannot connect to database. Skipping seeding.","@l":"Warning","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:29:21.8631349Z","@mt":"Database seeding completed successfully"}
{"@t":"2026-02-05T11:29:22.2492107Z","@mt":"Yalla Pharm CRM API starting on {Urls}","Urls":""}
{"@t":"2026-02-05T11:29:56.6680276Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"507536e1-fd21-497a-98fd-0e421d0cb911","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L7H7O89N:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89N"}
{"@t":"2026-02-05T11:29:56.7531301Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"507536e1-fd21-497a-98fd-0e421d0cb911","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L7H7O89N:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89N"}
{"@t":"2026-02-05T11:29:56.8038480Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1943.5349"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":1943.5349,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89N:00000001","ConnectionId":"0HNJ4L7H7O89N"}
{"@t":"2026-02-05T11:29:56.8641534Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L7H7O89N:00000001","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L7H7O89N:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89N"}
{"@t":"2026-02-05T11:29:57.5524164Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["42.4169"],"RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"GET","RequestPath":"/api/clients","StatusCode":401,"Elapsed":42.4169,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89O:00000001","ConnectionId":"0HNJ4L7H7O89O"}
{"@t":"2026-02-05T11:29:57.7502337Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["12.2682"],"RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"GET","RequestPath":"/api/pharmacy","StatusCode":401,"Elapsed":12.2682,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89P:00000001","ConnectionId":"0HNJ4L7H7O89P"}
{"@t":"2026-02-05T11:29:57.9813469Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5.1237"],"RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"GET","RequestPath":"/api/orders/by-state/1/10","StatusCode":401,"Elapsed":5.1237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89Q:00000001","ConnectionId":"0HNJ4L7H7O89Q"}
{"@t":"2026-02-05T11:30:09.9848995Z","@mt":"An error occurred using the connection to database '{database}' on server '{server}'.","@l":"Error","database":"yalla","server":"","EventId":{"Id":20004,"Name":"Microsoft.EntityFrameworkCore.Database.Connection.ConnectionError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Connection","ActionId":"507536e1-fd21-497a-98fd-0e421d0cb911","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L7H7O89R:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89R"}
{"@t":"2026-02-05T11:30:09.9972878Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"507536e1-fd21-497a-98fd-0e421d0cb911","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4L7H7O89R:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89R"}
{"@t":"2026-02-05T11:30:10.0086046Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["317.7041"],"@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":500,"Elapsed":317.7041,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89R:00000001","ConnectionId":"0HNJ4L7H7O89R"}
{"@t":"2026-02-05T11:30:10.0195375Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Npgsql.PostgresException (0x80004005): 3D000: database \"yalla\" does not exist\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|216_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken, Boolean isFirstAttempt)\r\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|28_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|45_0(Boolean async, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.AuthService.LoginAsync(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\AuthService.cs:line 115\r\n   at YallaPharm.API.Controllers.LoginController.Login(LoginDto loginDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\LoginController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48\r\n  Exception data:\r\n    Severity: FATAL\r\n    SqlState: 3D000\r\n    MessageText: database \"yalla\" does not exist\r\n    File: postinit.c\r\n    Line: 1050\r\n    Routine: InitPostgres","Method":"POST","Path":"/api/login","TraceId":"0HNJ4L7H7O89R:00000001","StatusCode":500,"ExceptionType":"PostgresException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4L7H7O89R:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4L7H7O89R"}
{"@t":"2026-02-05T11:30:10.3830035Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["11.8720"],"RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"GET","RequestPath":"/api/clients","StatusCode":401,"Elapsed":11.872,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89S:00000001","ConnectionId":"0HNJ4L7H7O89S"}
{"@t":"2026-02-05T11:30:10.5579178Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["0.9738"],"RequestHost":"localhost:5071","UserAgent":"curl/8.6.0","RequestMethod":"GET","RequestPath":"/api/pharmacy","StatusCode":401,"Elapsed":0.9738,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4L7H7O89T:00000001","ConnectionId":"0HNJ4L7H7O89T"}
{"@t":"2026-02-05T11:34:26.9140240Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:34:32.0685675Z","@mt":"Cannot connect to database. Skipping seeding.","@l":"Warning","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:34:32.0725834Z","@mt":"Database seeding completed successfully"}
{"@t":"2026-02-05T11:34:32.2734634Z","@mt":"Yalla Pharm CRM API starting on {Urls}","Urls":""}
{"@t":"2026-02-05T11:35:41.1112640Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-02-05T11:35:42.6221233Z","@mt":"Checking database schema...","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:42.9904774Z","@mt":"Database schema check completed","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:44.0457923Z","@mt":"Default admin user created successfully","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:44.0496437Z","@mt":"Email: {Email}","Email":"admin@yallapharm.com","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:44.0557465Z","@mt":"Password: Admin123!","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:44.0611782Z","@mt":"Database seeding completed successfully","SourceContext":"YallaPharm.Infrastructure.Data.DbSeeder"}
{"@t":"2026-02-05T11:35:44.0657802Z","@mt":"Database seeding completed successfully"}
{"@t":"2026-02-05T11:35:44.4101556Z","@mt":"Yalla Pharm CRM API starting on {Urls}","Urls":""}
{"@t":"2026-02-05T11:36:01.6303554Z","@mt":"User {Email} logged in successfully","Email":"admin@yallapharm.com","SourceContext":"YallaPharm.Application.Services.AuthService","ActionId":"1df4cc60-0b91-4a37-b8d3-0d49aee44ecc","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000001","RequestPath":"/api/login","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:01.6965081Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["506.8518"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":200,"Elapsed":506.8518,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000001","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.2297941Z","@mt":"User {Email} logged in successfully","Email":"admin@yallapharm.com","SourceContext":"YallaPharm.Application.Services.AuthService","ActionId":"1df4cc60-0b91-4a37-b8d3-0d49aee44ecc","ActionName":"YallaPharm.API.Controllers.LoginController.Login (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000002","RequestPath":"/api/login","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.2363201Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["320.0012"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/login","StatusCode":200,"Elapsed":320.0012,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000002","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.3838643Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["66.6374"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/user","StatusCode":200,"Elapsed":66.6374,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000003","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.5098369Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["61.8781"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/user/test-user-id","StatusCode":404,"Elapsed":61.8781,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000004","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.6173260Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["47.1446"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/user/update","StatusCode":404,"Elapsed":47.1446,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000005","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:02.9656403Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"f4ba3841-f17a-423c-a9e7-82a2528a5e71","ActionName":"YallaPharm.API.Controllers.ClientApiController.GetAll (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000006","RequestPath":"/api/clients","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.0226115Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["341.2437"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/clients","StatusCode":200,"Elapsed":341.2437,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000006","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.1636496Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c6e5d622-2ace-45ee-98f3-9941e0ca15b8","ActionName":"YallaPharm.API.Controllers.ClientApiController.GetById (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000007","RequestPath":"/api/clients/test-client-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.1955296Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["115.5572"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/clients/test-client-id","StatusCode":404,"Elapsed":115.5572,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000007","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.3595688Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"a01d6f9c-c3d5-4c2f-8a1b-9ec17e90baac","ActionName":"YallaPharm.API.Controllers.ClientApiController.Update (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000008","RequestPath":"/api/clients/update","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.3854354Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["132.1224"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/clients/update","StatusCode":404,"Elapsed":132.1224,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000008","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.6718606Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"454438ba-7e60-4972-83b4-1072160de96d","ActionName":"YallaPharm.API.Controllers.OrderApiController.GetByState (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000009","RequestPath":"/api/orders/by-state/1/10","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.8157957Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["374.6034"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/1/10","StatusCode":200,"Elapsed":374.6034,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000009","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.9039469Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["16.4818"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/2/10","StatusCode":200,"Elapsed":16.4818,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000A","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:03.9836875Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["17.3636"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/3/10","StatusCode":200,"Elapsed":17.3636,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000B","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.0629847Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["12.3378"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/4/10","StatusCode":200,"Elapsed":12.3378,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000C","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.1333279Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["17.9791"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/5/10","StatusCode":200,"Elapsed":17.9791,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000D","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.2019734Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["14.0381"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/by-state/6/10","StatusCode":200,"Elapsed":14.0381,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000E","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.3368550Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["46.9992"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/by-state","StatusCode":200,"Elapsed":46.9992,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000000F","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.5446565Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6496159b-a369-4c4a-b913-6b3a4b4c3072","ActionName":"YallaPharm.API.Controllers.OrderApiController.GetById (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000010","RequestPath":"/api/orders/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.6063941Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["204.6813"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/test-order-id","StatusCode":404,"Elapsed":204.6813,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000010","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.7111198Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["43.5031"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/order-number/test-order-id","StatusCode":404,"Elapsed":43.5031,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000011","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.8414272Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["75.7678"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/orders/pharmacy-orders/test-order-id","StatusCode":200,"Elapsed":75.7678,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000012","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.9770724Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"ec3c77d0-eced-4cd2-8108-8f3c720d3c2c","ActionName":"YallaPharm.API.Controllers.OrderApiController.UpdateState (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000013","RequestPath":"/api/orders/update-state","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:04.9801294Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["80.7450"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/update-state","StatusCode":404,"Elapsed":80.745,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000013","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.6315899Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","elapsed":"37","parameters":"@p0='b5642000-82b1-4823-94be-50837eef6294' (Nullable = false), @p1=NULL (DbType = Decimal), @p2=NULL (DbType = Decimal), @p3=NULL (DbType = Decimal), @p4=NULL (DbType = Decimal), @p5=NULL (DbType = Decimal), @p6='' (Nullable = false), @p7='test-id' (Nullable = false), @p8=NULL, @p9=NULL, @p10=NULL, @p11=NULL, @p12=NULL, @p13=NULL, @p14=NULL, @p15=NULL (DbType = Decimal), @p16='' (Nullable = false), @p17='ORD-20260205-0AEBDE81' (Nullable = false), @p18=NULL (DbType = Decimal), @p19=NULL (DbType = Decimal), @p20=NULL (DbType = Decimal), @p21=NULL (DbType = Decimal), @p22='0', @p23=NULL (DbType = Decimal), @p24=NULL, @p25='2138af7b-2cdd-449a-948c-70c40d36df1a' (Nullable = false), @p26=NULL (DbType = Int32), @p27=NULL (DbType = Int32), @p28=NULL (DbType = Int32), @p29=NULL, @p30=NULL (DbType = DateTime), @p31=NULL, @p32=NULL (DbType = DateTime), @p33='2026-02-05T11:36:05.0948481Z' (Nullable = true) (DbType = DateTime), @p34=NULL (DbType = DateTime), @p35=NULL (DbType = DateTime), @p36='2026-02-05T11:36:05.0947909Z' (Nullable = true) (DbType = DateTime), @p37=NULL (DbType = DateTime), @p38=NULL (DbType = DateTime), @p39=NULL (DbType = DateTime), @p40='2026-02-05T11:36:05.0948979Z' (Nullable = true) (DbType = DateTime), @p41=NULL, @p42=NULL, @p43=NULL (DbType = Int32), @p44=NULL (DbType = Int32), @p45=NULL (DbType = DateTime), @p46=NULL (DbType = DateTime), @p47='b5642000-82b1-4823-94be-50837eef6294' (Nullable = false), @p48=NULL (DbType = DateTime), @p49=NULL, @p50=NULL, @p51=NULL, @p52=NULL (DbType = DateTime), @p53=NULL (DbType = DateTime), @p54=NULL (DbType = Int32), @p55=NULL (DbType = DateTime), @p56=NULL, @p57=NULL, @p58=NULL, @p59=NULL, @p60=NULL (DbType = DateTime), @p61=NULL (DbType = DateTime), @p62=NULL (DbType = Int32), @p63=NULL (DbType = DateTime), @p64='Application', @p65=NULL (DbType = DateTime), @p66=NULL (DbType = DateTime), @p67=NULL (DbType = DateTime), @p68=NULL (DbType = DateTime), @p69=NULL (DbType = DateTime)","commandType":"Text","commandTimeout":60,"newLine":"\r\n","commandText":"INSERT INTO orders (id, amount_with_delivery, amount_with_discount, amount_with_markup, amount_without_delivery, amount_without_markup, city_or_district, client_id, comes_from, comment, comment_for_courier, country_to_delivery, courier, delivered_at, delivery_type, discount, operator, order_number, prepayment, price_for_delivery_outside_the_city, remaining_payment, rest_payment, total_cost, total_order_amount_excluding_delivery, type)\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);\r\nINSERT INTO order_histories (id, amount_of_delivery_time, amount_of_processing_time, amount_of_time_respond_client, calling_at, canceled_at, comment_for_courier, confirmed_at, consulted_at, courier_accepted_at, courier_received_at, created_at, delivered_at, delivered_time, individual_delivery_time, lead_created_at, long_search_reason, message, minutes_for_entire_process_finish, minutes_for_entire_process_to_placement, notified_at, order_date, order_id, order_processing_time, past_state, payment_method, payment_status, placed_at, placement_at, previous_state_before_rejection_state, ready_for_shipment_at, reason_for_order_cancellation, reason_for_order_delay, reason_for_order_rejection, reason_for_returning_the_order, request_date, request_processing_time, returned_products_count, searching_at, state, time_for_accepting_request, time_inform_customer_about_product, time_of_completion_of_inquiry, time_to_obtain_client_approval, time_to_send_check_to_client)\r\nVALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65, @p66, @p67, @p68, @p69)\r\nRETURNING is_returned, was_rejection;","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"7349d6e1-ec25-41b6-95c9-7736759f1f09","ActionName":"YallaPharm.API.Controllers.OrderApiController.CreateConsulting (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000014","RequestPath":"/api/orders/consulting","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.6872865Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ОШИБКА\r\n    SqlState: 23503\r\n    MessageText: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: orders\r\n    ConstraintName: FK_orders_clients_client_id\r\n    File: ri_triggers.c\r\n    Line: 2610\r\n    Routine: ri_ReportViolation\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","contextType":"YallaPharm.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ОШИБКА\r\n    SqlState: 23503\r\n    MessageText: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: orders\r\n    ConstraintName: FK_orders_clients_client_id\r\n    File: ri_triggers.c\r\n    Line: 2610\r\n    Routine: ri_ReportViolation\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7349d6e1-ec25-41b6-95c9-7736759f1f09","ActionName":"YallaPharm.API.Controllers.OrderApiController.CreateConsulting (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000014","RequestPath":"/api/orders/consulting","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.7237864Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["684.6282"],"@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ОШИБКА\r\n    SqlState: 23503\r\n    MessageText: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: orders\r\n    ConstraintName: FK_orders_clients_client_id\r\n    File: ri_triggers.c\r\n    Line: 2610\r\n    Routine: ri_ReportViolation\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.OrderService.CreateConsultingAsync(OrderDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\OrderService.cs:line 387\r\n   at YallaPharm.API.Controllers.OrderApiController.CreateConsulting(OrderDto orderDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\OrderApiController.cs:line 79\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/consulting","StatusCode":500,"Elapsed":684.6282,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000014","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.7767567Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Npgsql.PostgresException (0x80004005): 23503: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|234_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n  Exception data:\r\n    Severity: ОШИБКА\r\n    SqlState: 23503\r\n    MessageText: INSERT или UPDATE в таблице \"orders\" нарушает ограничение внешнего ключа \"FK_orders_clients_client_id\"\r\n    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n    SchemaName: public\r\n    TableName: orders\r\n    ConstraintName: FK_orders_clients_client_id\r\n    File: ri_triggers.c\r\n    Line: 2610\r\n    Routine: ri_ReportViolation\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at YallaPharm.Application.Services.OrderService.CreateConsultingAsync(OrderDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\OrderService.cs:line 387\r\n   at YallaPharm.API.Controllers.OrderApiController.CreateConsulting(OrderDto orderDto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\OrderApiController.cs:line 79\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Middleware\\GlobalExceptionHandlerMiddleware.cs:line 48","Method":"POST","Path":"/api/orders/consulting","TraceId":"0HNJ4LAUF4P25:00000014","StatusCode":500,"ExceptionType":"DbUpdateException","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4LAUF4P25:00000014","RequestPath":"/api/orders/consulting","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.9713471Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"7fa7318c-6e98-40af-93d7-f32feba9e4bc","ActionName":"YallaPharm.API.Controllers.OrderApiController.InSearch (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000015","RequestPath":"/api/orders/insearch/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:05.9746269Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["18.5425"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/insearch/test-order-id","StatusCode":404,"Elapsed":18.5425,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000015","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.0499191Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"d93c2b23-af76-40b5-86b6-4731c0fd3c01","ActionName":"YallaPharm.API.Controllers.OrderApiController.WaitingClient (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000016","RequestPath":"/api/orders/waiting-client/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.0531945Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["19.6718"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/waiting-client/test-order-id","StatusCode":404,"Elapsed":19.6718,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000016","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.1276618Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"48e842bc-59bc-420c-bbf6-802f1aa6e01e","ActionName":"YallaPharm.API.Controllers.OrderApiController.Placement (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000017","RequestPath":"/api/orders/placement/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.1314350Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["18.4915"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/placement/test-order-id","StatusCode":404,"Elapsed":18.4915,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000017","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.2202643Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"11824e01-adbc-4e93-bbaa-e2cf1d48ac08","ActionName":"YallaPharm.API.Controllers.OrderApiController.Delivered (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000018","RequestPath":"/api/orders/delivered/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.2259768Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["27.5774"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/delivered/test-order-id","StatusCode":404,"Elapsed":27.5774,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000018","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.2955284Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"3b14e47f-f1a8-4d4e-8223-241fd71c55b5","ActionName":"YallaPharm.API.Controllers.OrderApiController.Cancellation (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000019","RequestPath":"/api/orders/cancellation/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.2989949Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["21.3926"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/cancellation/test-order-id","StatusCode":404,"Elapsed":21.3926,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000019","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.3828127Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"1486e7c0-1b77-44f7-b0fe-764bf5e47bf3","ActionName":"YallaPharm.API.Controllers.OrderApiController.Rejection (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:0000001A","RequestPath":"/api/orders/rejection/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.3865968Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["23.8478"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/rejection/test-order-id","StatusCode":404,"Elapsed":23.8478,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001A","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.5064351Z","@mt":"Cannot return from rejection: order or history not found for {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"9044b46d-c764-42d0-a71d-3d7b60dcb780","ActionName":"YallaPharm.API.Controllers.OrderApiController.ReturnFromRejection (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:0000001B","RequestPath":"/api/orders/return-from-rejection/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.5095919Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["69.2470"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/return-from-rejection/test-order-id","StatusCode":404,"Elapsed":69.247,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001B","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.5816608Z","@mt":"Order not found: {OrderId}","@l":"Warning","OrderId":"test-order-id","SourceContext":"YallaPharm.Application.Services.OrderService","ActionId":"173ef9df-8b43-4053-bbba-fdb94e554234","ActionName":"YallaPharm.API.Controllers.OrderApiController.ReturnProducts (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:0000001C","RequestPath":"/api/orders/return-products/test-order-id","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.5867790Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22.4933"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/orders/return-products/test-order-id","StatusCode":404,"Elapsed":22.4933,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001C","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.7015733Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["54.8725"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/pharmacy","StatusCode":200,"Elapsed":54.8725,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001D","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.8135529Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["48.2411"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/pharmacy/test-pharmacy-id","StatusCode":404,"Elapsed":48.2411,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001E","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:06.9170821Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["45.5086"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/pharmacy/update","StatusCode":404,"Elapsed":45.5086,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000001F","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.0091062Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["40.5682"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/product","StatusCode":200,"Elapsed":40.5682,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000020","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.1211985Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["52.4335"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/product/test-product-id","StatusCode":404,"Elapsed":52.4335,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000021","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.2332091Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["43.4557"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/product/update","StatusCode":404,"Elapsed":43.4557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000022","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.3694061Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["67.7268"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/productTemplate","StatusCode":200,"Elapsed":67.7268,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000023","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.4692735Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["42.5671"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/productTemplate/test-template-id","StatusCode":404,"Elapsed":42.5671,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000024","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.5661685Z","@mt":"ProductTemplate not found for update: {Id}","@l":"Warning","Id":"test-id","SourceContext":"YallaPharm.Application.Services.ProductTemplateService","ActionId":"9f7c1880-5c4e-4909-b4d2-13058d824809","ActionName":"YallaPharm.API.Controllers.ProductTemplateApiController.Update (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000025","RequestPath":"/api/productTemplate/update","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.5714741Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["36.5654"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.NotFoundException: Сущность 'ProductTemplate' с идентификатором 'test-id' не найдена.\r\n   at YallaPharm.Application.Services.ProductTemplateService.UpdateAsync(ProductTemplateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\ProductTemplateService.cs:line 136\r\n   at YallaPharm.API.Controllers.ProductTemplateApiController.Update(ProductTemplateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\ProductTemplateApiController.cs:line 39\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/productTemplate/update","StatusCode":500,"Elapsed":36.5654,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000025","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.5880804Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/productTemplate/update","TraceId":"0HNJ4LAUF4P25:00000025","StatusCode":404,"ExceptionType":"NotFoundException","Message":"Сущность 'ProductTemplate' с идентификатором 'test-id' не найдена.","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4LAUF4P25:00000025","RequestPath":"/api/productTemplate/update","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.6872967Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["34.5588"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/packagingType","StatusCode":200,"Elapsed":34.5588,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000026","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.7732976Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["24.3453"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/packagingType/test-id","StatusCode":404,"Elapsed":24.3453,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000027","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.8508524Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["19.7299"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/packagingType/update","StatusCode":404,"Elapsed":19.7299,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000028","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:07.9500467Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["32.8735"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/packagingUnit","StatusCode":200,"Elapsed":32.8735,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000029","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.0413485Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["26.7673"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/packagingUnit/test-id","StatusCode":404,"Elapsed":26.7673,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002A","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.1191244Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20.2991"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/packagingUnit/update","StatusCode":404,"Elapsed":20.2991,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002B","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.2097754Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.3172"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/paymentMethod","StatusCode":200,"Elapsed":28.3172,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002C","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.2874243Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["26.5137"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/paymentMethod/test-id","StatusCode":404,"Elapsed":26.5137,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002D","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.3766705Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["26.7730"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/paymentMethod/update","StatusCode":404,"Elapsed":26.773,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002E","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.4674050Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["32.2605"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/releaseForm","StatusCode":200,"Elapsed":32.2605,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:0000002F","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.5565061Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["23.3494"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/api/releaseForm/test-id","StatusCode":404,"Elapsed":23.3494,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000030","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.6443970Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["23.3694"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/releaseForm/update","StatusCode":404,"Elapsed":23.3694,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000031","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.8404182Z","@mt":"SendAsync called with empty CourierId for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"4dc46cf9-4c27-4dcd-accf-84537253b4ad","ActionName":"YallaPharm.API.Controllers.DeliveryController.Send (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000032","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.9224218Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["103.5079"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: CourierId is required\r\n   at YallaPharm.Application.Services.DeliveryService.SendAsync(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 67\r\n   at YallaPharm.API.Controllers.DeliveryController.Send(DeliverySendDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 23\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/send","StatusCode":500,"Elapsed":103.5079,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000032","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:08.9422502Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/send","TraceId":"0HNJ4LAUF4P25:00000032","StatusCode":400,"ExceptionType":"ValidationException","Message":"CourierId is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4LAUF4P25:00000032","RequestPath":"/api/delivery/send","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:09.0454423Z","@mt":"UpdateAsync called with empty Status for order {OrderId}","@l":"Warning","OrderId":"test-id","SourceContext":"YallaPharm.Application.Services.DeliveryService","ActionId":"a4107fe0-bf59-422f-80fa-638016c066e0","ActionName":"YallaPharm.API.Controllers.DeliveryController.Update (YallaPharm.API)","RequestId":"0HNJ4LAUF4P25:00000033","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:09.0495190Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20.6197"],"@l":"Error","@x":"YallaPharm.Application.Exceptions.ValidationException: Status is required\r\n   at YallaPharm.Application.Services.DeliveryService.UpdateAsync(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.Application\\Services\\DeliveryService.cs:line 110\r\n   at YallaPharm.API.Controllers.DeliveryController.Update(DeliveryUpdateDto dto) in C:\\Users\\Mardin it\\Desktop\\yalla.pharm.crm\\src\\YallaPharm.API\\Controllers\\DeliveryController.cs:line 33\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/api/delivery/update","StatusCode":500,"Elapsed":20.6197,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000033","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:09.0667619Z","@mt":"HTTP {Method} {Path} - TraceId: {TraceId} - Status: {StatusCode} - Exception: {ExceptionType} - Message: {Message}","@l":"Warning","Method":"POST","Path":"/api/delivery/update","TraceId":"0HNJ4LAUF4P25:00000033","StatusCode":400,"ExceptionType":"ValidationException","Message":"Status is required","SourceContext":"YallaPharm.API.Middleware.GlobalExceptionHandlerMiddleware","RequestId":"0HNJ4LAUF4P25:00000033","RequestPath":"/api/delivery/update","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:09.1544793Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["15.5730"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"GET","RequestPath":"/telegram","StatusCode":200,"Elapsed":15.573,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000034","ConnectionId":"0HNJ4LAUF4P25"}
{"@t":"2026-02-05T11:36:09.2363783Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20.8993"],"RequestHost":"localhost:5071","UserAgent":"","RequestMethod":"POST","RequestPath":"/telegram","StatusCode":200,"Elapsed":20.8993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HNJ4LAUF4P25:00000035","ConnectionId":"0HNJ4LAUF4P25"}
